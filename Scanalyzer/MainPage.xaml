<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Scanalyzer"
             x:Class="Scanalyzer.MainPage">

    <Grid RowDefinitions="Auto,*">
        <!-- Top Ribbon -->
        <Grid Grid.Row="0" BackgroundColor="#f0f0f0" Padding="10" ColumnSpacing="8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" Text="New" WidthRequest="80" />
            <Button Grid.Column="1" Text="Open" WidthRequest="80" x:Name="OpenButton" Clicked="OnOpenButtonClicked" />
            <Button Grid.Column="2" Text="Save" WidthRequest="80" />
            <Button Grid.Column="3" Text="Export" WidthRequest="80" />
        </Grid>

        <!-- Main Content Area with Object Tree and View -->
        <Grid Grid.Row="1" ColumnDefinitions="Auto,*">
            <!-- Object Hierarchy Tree (Left Panel) -->
            <Grid Grid.Column="0" WidthRequest="250" BackgroundColor="#f8f8f8" x:Name="LeftPanel">
                <Grid.Resources>
                    <Style TargetType="Label">
                        <Setter Property="TextColor" Value="#333333" />
                    </Style>
                </Grid.Resources>
                <Grid RowDefinitions="Auto,*">
                    <Grid Grid.Row="0" Padding="5" BackgroundColor="#e0e0e0">
                        <Grid ColumnDefinitions="*,Auto">
                            <Label Grid.Column="0" Text="Object Hierarchy" FontAttributes="Bold" VerticalOptions="Center" />
                            <Button Grid.Column="1" Text="☰" WidthRequest="30" HeightRequest="30"
                                    x:Name="CollapseButton" Clicked="OnCollapseButtonClicked" />
                        </Grid>
                    </Grid>
                    <ScrollView Grid.Row="1" x:Name="TreeScrollView">
                        <VerticalStackLayout Padding="10" Spacing="10">
                            <Label Text="Root Object" />
                            <VerticalStackLayout Margin="20,0,0,0">
                                <Label Text="Child Object 1" />
                                <Label Text="Child Object 2" />
                                <VerticalStackLayout Margin="20,0,0,0">
                                    <Label Text="Nested Object 1" />
                                    <Label Text="Nested Object 2" />
                                </VerticalStackLayout>
                                <Label Text="Child Object 3" />
                            </VerticalStackLayout>
                        </VerticalStackLayout>
                    </ScrollView>
                </Grid>
            </Grid>

            <!-- Main View Area (Right Panel) -->
            <Grid Grid.Column="1" x:Name="MainViewArea">
                <local:ModelViewer x:Name="ModelViewer" />
            </Grid>
        </Grid>
    </Grid>

</ContentPage>